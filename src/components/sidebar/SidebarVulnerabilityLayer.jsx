import React from 'react';
import PropTypes from 'prop-types';
import SidebarVulnerabilitySlider from './SidebarVulnerabilitySlider';

class SidebarVulnerabilityLayer extends React.PureComponent {
  getTitleRow() {
    const {
      name,
    } = this.props;

    return (
      <div className="sidebar__choropleth-layer-name sidebar__layers-title-row">
        {name}
      </div>
    );
  }

  getSliderRow() {
    const {
      setChoroplethValue,
      id,
      maxValue,
      minValue,
      value,
      colorRamp,
    } = this.props;

    const sliderProps = {
      setChoroplethValue,
      id,
      maxValue,
      minValue,
      value,
      colorRamp,
    };

    return (
      <SidebarVulnerabilitySlider
        {...sliderProps}
      />
    );
  }

  render() {
    return (
      <div
        className="sidebar__choropleth-layer-row sidebar__layers-block"
      >
        {this.getTitleRow()}
        {this.getSliderRow()}
      </div>
    );
  }
}

SidebarVulnerabilityLayer.defaultProps = {
  colorRamp: null,
};

SidebarVulnerabilityLayer.propTypes = {
  /** Sets choropleth filter values */
  setChoroplethValue: PropTypes.func.isRequired,
  /** choropleth data item id */
  id: PropTypes.number.isRequired,
  /** layer name */
  name: PropTypes.string.isRequired,
  maxValue: PropTypes.number.isRequired,
  minValue: PropTypes.number.isRequired,
  value: PropTypes.number.isRequired,
  /** d3 quantize color scale */
  // colorRamp: PropTypes.func,
  colorRamp: PropTypes.arrayOf(PropTypes.string),
};

export default SidebarVulnerabilityLayer;
